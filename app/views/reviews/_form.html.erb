<%= form_with(model: [@restaurant, @review], local: true) do |form| %>
  <% if review.errors.any? %>
    <div id="error_explanation" class="alert alert-danger alert-dismissible">
      <button type="button" class="close" data-dismiss="alert" aria-label="Close"><span aria-hidden="true">&times;</span></button>
      <h4><%= pluralize(review.errors.count, "error") %> prohibited this review from being saved:</h4>

      <ul>
      <% review.errors.full_messages.each do |message| %>
        <li><%= message %></li>
      <% end %>
      </ul>
    </div>
  <% end %>

  <div id="star-rating"></div>  <%# use id for things that appear only once, and class for all others %>
  <br>

  <div class="form-group">
    <%= form.label :comment %>
    <%= form.text_area :comment, class: "form-control" %>
  </div>

  <div class="form-group">
    <%= form.submit class: "btn btn-primary" %>
  </div>
<% end %>

<script>
  $('#star-rating').raty({  <%# hashtag is because we used "id=star-rating" earlier %>
    path: 'https://s3-us-west-1.amazonaws.com/yelpdemo0/stars',
    scoreName: 'review[rating]'
  });
</script>
